# Server Project

C#으로 구현된 멀티플레이어 게임 서버 프로젝트입니다. TCP 소켓 통신을 기반으로 한 클라이언트-서버 아키텍처를 제공합니다.

## 프로젝트 구조

```
Server/
├── Server/           # 메인 서버 애플리케이션
├── ServerCore/       # 핵심 네트워크 및 세션 관리 라이브러리
├── DummyClient/      # 테스트용 클라이언트
├── PacketGenerator/  # 패킷 자동 생성 도구
└── Common/           # 공통 라이브러리
```

### 주요 컴포넌트

- **Server**: 포트 8888에서 실행되는 메인 게임 서버
- **ServerCore**: 네트워크 통신, 세션 관리, 잡 큐 시스템을 포함한 핵심 라이브러리
- **DummyClient**: 서버 연결 테스트를 위한 더미 클라이언트
- **PacketGenerator**: XML 정의를 기반으로 패킷 클래스를 자동 생성하는 도구

## 기능

- **비동기 TCP 소켓 통신**: 효율적인 클라이언트-서버 연결
- **게임룸 시스템**: 클라이언트 세션을 관리하는 GameRoom
- **잡 큐 시스템**: 스레드 안전한 작업 처리
- **패킷 자동화**: XML 기반 패킷 정의 및 자동 생성
- **세션 관리**: 클라이언트 연결 상태 및 통신 관리

## 빌드 및 실행

### 전제 조건
- .NET Framework 또는 .NET Core
- Visual Studio 2017 이상

### 빌드
```bash
# Visual Studio에서 솔루션 빌드
# 또는 명령줄에서:
dotnet build Server.sln
```

### 실행

1. **서버 시작**:
   ```bash
   cd Server
   dotnet run
   ```
   서버가 포트 8888에서 클라이언트 연결을 대기합니다.

2. **테스트 클라이언트 실행**:
   ```bash
   cd DummyClient
   dotnet run
   ```
   더미 클라이언트가 서버에 연결하여 500개의 동시 연결을 생성합니다.

## 아키텍처

### 네트워크 계층
- **Listener**: 클라이언트 연결을 수락하는 TCP 리스너
- **Connector**: 클라이언트에서 서버로 연결을 시도하는 컴포넌트
- **Session**: 개별 클라이언트 연결을 관리하는 세션 클래스

### 게임 로직
- **GameRoom**: 클라이언트 세션들을 관리하고 게임 상태를 처리
- **JobQueue**: 스레드 안전한 작업 큐로 동시성 문제 해결
- **JobTimer**: 주기적 작업 실행을 위한 타이머 시스템

### 패킷 시스템
- XML 파일에서 패킷 구조를 정의
- PacketGenerator가 자동으로 C# 클래스 생성
- 타입 안전한 패킷 직렬화/역직렬화

## 최근 업데이트

- Console Chat 프로그램 완료
- 패킷 자동화 시스템 업데이트
- String 패킷 직렬화 개선
- 비동기 이벤트 및 버퍼 설정 추가
- 서버 안정성 향상

## 라이센스

이 프로젝트는 학습 목적으로 제작되었습니다.